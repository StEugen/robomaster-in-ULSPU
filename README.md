![stars](https://img.shields.io/github/stars/collabnix/robomaster)
![forks](https://img.shields.io/github/forks/collabnix/robomaster)
![issues](https://img.shields.io/github/issues/collabnix/robomaster)



# Полное руководство для новых пользователей DJI Robomaster S1


![MY Image](https://github.com/collabnix/robomaster/blob/main/robomaster_top.png)

Robomaster S1 - это обучающмий робот, который позволяет пользователю глубоко понять науку, математику, физику, програмирование и больше через захватывающие игровые режимы и интелектуальные функции.

## Содержание

1. [Топ 10 особенностей](#Топ-10-особенностей)
2. [Действия, которые распознает S1](#Stimulus-that-S1-recognises)
3. [Начало работы](#getting-started)
4. [Проверка и сборка деталей](#items-check-and-assembly)
5. [Сборка колес илона](#assembly-the-mecanum-wheels)
6. [крепление карданного подвеса к шасси](#attaching-the-gimbal-to-the-chassis)
7. [Прикрепление контейнера для гелевых шариков и умной батареи](#mounting-the-gel-bead-container-and-intelligent-battery)
8. [Взлом Robomaster S1](#hacking-into-robomaster)
9. [Ссылки](#references)

## Топ 10 особенностей


- Поддержка языка программирования Python и блочного программирования Scratch
- 46 Programmable Components - all in DIY mode 46 программируемых компонентов - все в DIY ("сделай сам") режиме 
- 6 прораммируемых модулей исскуственного интеллекта 
- HD FPV (вид от первого лица) с низкой задержкой
- Scratch & Python Coding Проограммирование на Scratch и Python
- Полновприводное всенаправленное движение
- Интелектуальная броня, оснащенная датчиками ударов
- Множество захватывающих режимов игры
- Иновационное практическое обучение
- Два режима стрельбы: гелевые шарики и инфракрасные лучи
- Возможность захвата фотографий и записи видео с разрешением 1080p; без карты microSD он поддерживает только разрешение 720p.



## Действия, которые распознает S1

- Распознование хлопков: S1 может распознать два или три последовательных хлопка, а также может программироваться на выполнение пользовательской реакции.
- Распознавание жестов: S1 может обнаружить человеческие жесты ладонями или руками и может быть запрограммирован на исполнение пользовательских ответов.
- Распознование роботов S1: S1 может распознать другого робота Robomaster S1.
- Распознование визуальных маркеров: S1 может иденцифировать 44 вида официальных визуальных маркеров, которые в основном являются числами, буквами или специальными знаками. Все файлы с данными маркерами можно загрузить с официального сайта.
- Распознавание линий: S1 может обнаруживать и отслеживать синие, красные и зеленые дорожки шириной примерно 15-25 мм.


## Как это работает?

- Robomaster S1 может управляться через компьютер или смартфон, через дисплей (touchscreen) и геймпад. Во время использования геймпада с девайсом с тачскрином, роботом можно управлять с помощью внешней мыши, которая подсоединяется через специальной USB порт.
- Пользователи могут подключаться к Robomasters S1 через Wi-Fi или роутер. Во время подключения через Wi-Fi, ваше мобильное устройство или компьютер присоединяется к Wi-Fi S1 (режим работы - "hot spot"). Подключение через роутер обеспечивает более широкий охват сигнала, что позволяет роботам одновременно работать в одной сети.
- Плоские поверхности, такие как дерево, ковер, плитка и бетон, являются оптимальными для работы с S1. Пользователям следует избегать слишком гладких поверхностей, так как у колес S1 могут возникнуть проблемы с получением достаточного сцепления для точного управления. Следует избегать поверхностей с мелкими частицами, такими как песок или грязь.


## Содержание

1. [Начало работы](#getting-started)
2. [Проверка и сборка деталей](#items-check-and-assembly)
3. [Сборка колес илона](#assembly-the-mecanum-wheels)
4. [крепление карданного подвеса к шасси](#attaching-the-gimbal-to-the-chassis)
5. [Прикрепление контейнера для гелевых шариков и умной батареи](#mounting-the-gel-bead-container-and-intelligent-battery)
6. [Взлом Robomaster S1](#hacking-into-robomaster)

# Начало работы

- Установка модуля Robomaster Python для MacOS

```
conda create --name dji python=3.7
```

```
conda activate dji
```

```
pip install robomaster
```




# Steps to assemble Robomaster

![robo](/images/robo1.jpg)

![image](https://user-images.githubusercontent.com/34368930/117563246-22dd3b00-b0c2-11eb-83aa-33a847756b95.png)

![image](https://user-images.githubusercontent.com/34368930/117563252-2e306680-b0c2-11eb-98e4-821cfd37fae6.png)

![image](https://user-images.githubusercontent.com/34368930/117563258-37213800-b0c2-11eb-948a-e5493c1ac43c.png)

![image](https://user-images.githubusercontent.com/34368930/117563264-430cfa00-b0c2-11eb-92bc-164262c5c2cc.png)

![image](https://user-images.githubusercontent.com/34368930/117563296-794a7980-b0c2-11eb-88d6-43724390baaf.png)



![image](https://user-images.githubusercontent.com/34368930/117563215-f45f6000-b0c1-11eb-9804-4aebff9d5321.png)

![image](https://user-images.githubusercontent.com/34368930/117563237-135df200-b0c2-11eb-82d0-e6eccf57768f.png)



# Items Check and Assembly

![image](https://user-images.githubusercontent.com/34368930/117563215-f45f6000-b0c1-11eb-9804-4aebff9d5321.png)


# Assembly the Mecanum Wheels

![image](https://user-images.githubusercontent.com/34368930/117563270-50c27f80-b0c2-11eb-8fe0-47978a6c16de.png)

![image](https://user-images.githubusercontent.com/34368930/117563276-5a4be780-b0c2-11eb-9a21-dfcec6817f7a.png)

![image](https://user-images.githubusercontent.com/34368930/117563302-849da500-b0c2-11eb-847e-972352e28c78.png)
![image](https://user-images.githubusercontent.com/34368930/117563305-8d8e7680-b0c2-11eb-94e3-3cfa958a37e6.png)



# Attaching the Gimbal to the chassis

![image](https://user-images.githubusercontent.com/34368930/117563309-97b07500-b0c2-11eb-98b8-68b39d1537c0.png)

![image](https://user-images.githubusercontent.com/34368930/117563313-a434cd80-b0c2-11eb-8fe3-68d868c2ef0d.png)

![image](https://user-images.githubusercontent.com/34368930/117563319-aeef6280-b0c2-11eb-9dda-a3c80b3884b5.png)

![image](https://user-images.githubusercontent.com/34368930/117563326-bd3d7e80-b0c2-11eb-812f-a44090b09e9c.png)


![image](https://user-images.githubusercontent.com/34368930/117563329-c9294080-b0c2-11eb-8feb-5296c9a7b608.png)

![image](https://user-images.githubusercontent.com/34368930/117563332-d2b2a880-b0c2-11eb-8b3a-8b8af397a1ac.png)

![image](https://user-images.githubusercontent.com/34368930/117563343-e100c480-b0c2-11eb-838f-421ab7d5adfd.png)

![image](https://user-images.githubusercontent.com/34368930/117563359-f7a71b80-b0c2-11eb-8939-7c2e7a7f6bf9.png)

![image](https://user-images.githubusercontent.com/34368930/117563368-042b7400-b0c3-11eb-83bc-f841b5d85486.png)

![image](https://user-images.githubusercontent.com/34368930/117563375-0f7e9f80-b0c3-11eb-88f1-2e6d545d81e5.png)

![image](https://user-images.githubusercontent.com/34368930/117563385-1d342500-b0c3-11eb-99f4-f2a7a47fd087.png)


# Mounting the Gel Bead Container and Intelligent Battery

![image](https://user-images.githubusercontent.com/34368930/117563399-2d4c0480-b0c3-11eb-8ba4-11bcd1c20fbc.png)


![image](https://user-images.githubusercontent.com/34368930/117563405-39d05d00-b0c3-11eb-80b1-01a9178e17a4.png)


![image](https://user-images.githubusercontent.com/34368930/117563409-448af200-b0c3-11eb-934a-4faccae0c8ae.png)

![image](https://user-images.githubusercontent.com/34368930/117563413-52407780-b0c3-11eb-9e69-5e97dd8f50d5.png)


![image](https://user-images.githubusercontent.com/34368930/117563417-5d93a300-b0c3-11eb-9a04-4d4017185d41.png)


![image](https://user-images.githubusercontent.com/34368930/117563428-697f6500-b0c3-11eb-8ddd-61424cffd8e3.png)

## Get Ready!

![image](https://user-images.githubusercontent.com/34368930/117563481-d692fa80-b0c3-11eb-8e34-5fd1a05f713e.png)


## Hacking into Robomaster




### What you need

- Android SDK Platform‐Tools (https://developer.android.com/studio/releases/platform‐tools)
- Micro USB Cable
- Latest Robomaster S1 App & Firmware
- Windows 10 (might or mightn't work for MacOS)


### Step by step instructions

- Unzip the Android SDK Platform‐Tools somewhere in your system
- Use the Intelligent Controller Micro USB Port and connect the S1 to your computer.
- Start the Robomaster S1 application. Go to the Lab, create a new Python application and
paste the following code:

```
def root_me(module):
 __import__=rm_log.__dict__['__builtins__']['__import__']
 return __import__(module,globals(),locals(),[],0)
builtins=root_me('builtins')
subprocess=root_me('subprocess')
proc=subprocess.Popen('/system/bin/adb_en.sh',shell=True,executable='
/system/bin/sh',stdout=subprocess.PIPE,stderr=subprocess.PIPE)
```

- Run the Code within the S1 Lab. If you followed the steps correctly there should be no
compilation errors. The Console will show: Execution Complete

- Don’t close the S1 Application! Open an Explorer window and go to the directory which holds
the earlier extracted Android Platform Tools. Open a PowerShell in this directory (Shift +
Right‐Click)

- Run the ADP command to list the devices: 

```
.\adb.exe devices
```

You should see something like
this:



<img width="599" alt="Screen Shot 2021-07-21 at 2 04 14 PM" src="https://user-images.githubusercontent.com/34368930/126458132-9a1fdd51-3d2f-4695-88a1-896d3ca09652.png">

-  Execute: 

```
.\adb.exe shell
```

<img width="689" alt="Screen Shot 2021-07-21 at 2 04 35 PM" src="https://user-images.githubusercontent.com/34368930/126458200-a5f8727a-1a2d-4953-852d-066b34237913.png">

## DJI Specific Commands

```
dji
dji_amt_board       dji_derivekey       dji_monitor         dji_verify
dji_blackbox        dji_hdvt_uav        dji_net.sh          dji_vision
dji_camera          dji_log_control.sh  dji_network
dji_chkotp          dji_mb_ctrl         dji_sw_uav
dji_cpuburn         dji_mb_parser       dji_sys
```


### Checking IP address

```
 ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
8: rndis0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 0a:f8:f6:bb:55:64 brd ff:ff:ff:ff:ff:ff
    inet 192.168.42.2/24 brd 192.168.42.255 scope global rndis0
       valid_lft forever preferred_lft forever
9: wlan0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether 60:60:1f:cd:95:f7 brd ff:ff:ff:ff:ff:ff
    inet 192.168.2.1/24 brd 192.168.2.255 scope global wlan0
       valid_lft forever preferred_lft forever
 ```
 
 ### Checking the type of Hunter.py file
 
 ```
 ./hunter.py
 vision_ctrl.enable_detection(rm_define.vision_detection_marker)  
 ```
 
### Checking Memory Stats

```
127|root@xw607_dz_ap0002_v4:/system/bin # cat /proc/meminfo
MemTotal:         271708 kB
MemFree:           59076 kB
Buffers:           18700 kB
Cached:            94776 kB
SwapCached:            0 kB
Active:           117648 kB
Inactive:          58020 kB
Active(anon):      62724 kB
Inactive(anon):      136 kB
Active(file):      54924 kB
Inactive(file):    57884 kB
Unevictable:         500 kB
Mlocked:               0 kB
HighTotal:             0 kB
HighFree:              0 kB
LowTotal:         271708 kB
LowFree:           59076 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                36 kB
Writeback:             0 kB
AnonPages:         62696 kB
Mapped:            12308 kB
Shmem:               176 kB
Slab:              12712 kB
SReclaimable:       6248 kB
SUnreclaim:         6464 kB
KernelStack:        2152 kB
PageTables:         1300 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      135852 kB
Committed_AS:     341612 kB
VmallocTotal:     745472 kB
VmallocUsed:      153220 kB
VmallocChunk:     432132 kB
```

### Top Command

```
oot@xw607_dz_ap0002_v4:/system/bin # top



User 8%, System 13%, IOW 0%, IRQ 0%
User 126 + Nice 0 + Sys 203 + Idle 1138 + IOW 2 + IRQ 0 + SIRQ 1 = 1470

  PID PR CPU% S  #THR     VSS     RSS PCY UID      Name
14020  1   3% S    28 146468K   8588K  fg root     /system/bin/dji_camera
  247  3   3% S    24 213128K  14876K  fg root     /system/bin/dji_vision
  483  1   2% S     8 112412K  11072K unk root     /data/python_files/bin/python
  233  1   2% S    22  44460K   5232K  fg root     /system/bin/dji_hdvt_uav
  239  0   1% S    15  31368K   4464K  fg root     /system/bin/dji_sw_uav
  237  0   0% S    13  24208K   4092K  fg root     /system/bin/dji_network
   41  0   0% S     1      0K      0K  fg root     kworker/0:1
  245  1   0% S     6  31904K  20492K  fg root     /system/bin/dji_blackbox
   69  1   0% S     1      0K      0K  fg root     mmcqd/0
  243  1   0% S    27  50832K   9300K  fg root     /system/bin/dji_sys
  ```


## References

- [Robomaster S1 Videos](https://www.dji.com/robomaster-s1/video)
- [Robomaster S1 Courses](https://www.dji.com/robomaster-s1/video-courses)
